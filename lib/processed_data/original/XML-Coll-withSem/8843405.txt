producerconsum problem tz keilana concurr comput scienc producerconsum problem boundedbuff problem classic exampl multi process synchron problem problem describ process produc consum share common fixeds buffer produc job gener piec data buffer start time consum consum data remov buffer piec time problem produc wont add data buffer full consum wont remov data empti buffer solut produc sleep buffer full time consum remov item buffer wake produc start fill buffer consum sleep find buffer empti time produc put data buffer wake sleep consum solut reach interprocess commun typic semaphor inadequ solut result deadlock process wait awaken problem gener multipl produc consum implement inadequ implement solut race condit solv problem careless programm solut solut librari routin sleep wakeup sleep call caller block process wake wakeup routin itemcount number item buffer int itemcount procedur produc true item produceitem itemcount buffer_s sleep putitemintobufferitem itemcount itemcount itemcount wakeupconsum procedur consum true itemcount sleep item removeitemfrombuff itemcount itemcount itemcount buffer_s wakeupproduc consumeitemitem problem solut race condit lead deadlock consid scenario consum read variabl itemcount notic move insid ifblock call sleep consum interrupt produc resum produc creat item put buffer increas itemcount buffer empti prior addit produc wake consum consum wasnt sleep wakeup call lost time consum run sleep will awaken produc will loop buffer full will sleep process will sleep forev deadlock solut unsatisfactori altern analysi program languag defin semant concurr access share variabl case itemcount synchron solut unsatisfactori reason need explicitli demonstr race condit semaphor semaphor solv problem lost wakeup call solut semaphor fillcount emptycount solv problem fillcount increment emptycount decrement item buffer produc decrement emptycount produc sleep time item consum emptycount increment produc wake consum work analog semaphor fillcount semaphor emptycount buffer_s procedur produc true item produceitem downemptycount putitemintobufferitem upfillcount procedur consum true downfillcount item removeitemfrombuff upemptycount consumeitemitem solut work fine produc consum multipl produc consum solut seriou race condit result process read write slot time understand imagin procedur putitemintobuff implement action determin slot write procedur execut concurr multipl produc scenario produc decrement emptycount produc determin empti slot buffer second produc determin empti slot result produc produc write slot overcom problem produc execut putitemintobuff time execut critic mutual exclus accomplish binari semaphor call mutex binari semaphor process execut downmutex upmutex solut multipl produc consum semaphor mutex semaphor fillcount semaphor emptycount buffer_s procedur produc true item produceitem downemptycount downmutex putitemintobufferitem upmutex upfillcount procedur consum true downfillcount downmutex item removeitemfrombuff upmutex upemptycount consumeitemitem notic order semaphor increment decrement essenti chang order result deadlock monitor pseudo code solut producerconsum problem monitor mutual exclus implicit monitor extra effort protect critic solut work number produc consum modif noteworthi monitor race condit semaphor monitor producerconsum int itemcount condit full condit empti procedur additem itemcount buffer_s waitful putitemintobufferitem itemcount itemcount itemcount notifyempti procedur remov itemcount waitempti item removeitemfrombuff itemcount itemcount itemcount buffer_s notifyful return item procedur produc true item produceitem producerconsumeradditem procedur consum true item producerconsumerremov consumeitemitem compos memori transact compos memori transact special form softwar transact memori propos tim harri simon marlow simon peyton jone mauric herlihi duilio protti implement librari libcmt link sourc code exampl producersconsum exampl libcmt refer modern oper system edit andrew tanenbaum isbn foundat multithread parallel distribut program gregori andrew isbn sleep barber problem dine philosoph problem cigarett smoker problem readerswrit problem