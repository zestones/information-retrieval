okapi flabot data search engin okapi rank function search engin rank match document accord relev search queri base probabilist retriev framework develop stephen robertson karen sprck jone actual rank function set context howev usual refer okapi sinc okapi inform retriev system implement london citi univers wa system implement thi function newer variant eg version document structur anchor text account repres stateoftheart retriev function document retriev web search rank function bagofword retriev function rank set document base queri term appear document interrelationship queri term document eg rel proxim singl function actual famili score function slightli differ compon paramet promin instanti function follow queri keyword q_n score document score sum_ idf q_i cdot frac q_i cdot q_i cdot cdot frac avgdl q_i q_i term frequenc document length document number word avgdl averag document length text collect document drawn free paramet usual chosen idf q_i idf invers document frequenc weight queri term q_i usual comput idf q_i log frac q_i q_i total number document collect q_i number document q_i idf compon probabilist natur becom appar suppos queri term appear document randomli pick document will term probabl frac set document collect therefor inform content messag log frac log frac suppos queri term term occur document entir independ probabl randomli pick document frac cdot frac inform content event sum_ log frac q_i small variat thi exactli express idf compon refer stephen robertson steve walker susan jone michelin hancockbeaulieu mike gatford okapi proceed third text retriev confer trec gaithersburg usa novemb stephen robertson steve walker michelin hancockbeaulieu okapi proceed seventh text retriev confer gaithersburg usa novemb karen sprck jone steve walker stephen robertson probabilist model inform retriev develop compar experi inform process manag nick craswel hugo zaragoza stephen robertson microsoft cambridg enterpris track proceed fourteenth text retriev confer trec gaithersburg usa novemb describ applic tune okapi