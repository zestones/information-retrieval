producerconsum problem keilana concurr comput scienc producerconsum problem boundedbuff problem classic exampl multi process synchron problem problem describ process produc consum share common fixeds buffer produc job gener piec data buffer start time consum consum data ie remov buffer piec time problem produc wo nt tri add data buffer full consum wo nt tri remov data empti buffer solut produc sleep buffer full time consum remov item buffer wake produc start fill buffer consum goe sleep find buffer empti time produc data buffer wake sleep consum solut reach interprocess commun typic semaphor inadequ solut result deadlock process wait awaken problem gener multipl produc consum implement inadequ implement thi solut ha race condit solv problem careless programm solut solut librari routin sleep wakeup sleep call caller block anoth process wake wakeup routin itemcount number item buffer int itemcount procedur produc true item produceitem itemcount buffer_s sleep putitemintobuff item itemcount itemcount itemcount wakeup consum procedur consum true itemcount sleep item removeitemfrombuff itemcount itemcount itemcount buffer_s wakeup produc consumeitem item problem thi solut race condit lead deadlock consid follow scenario consum ha read variabl itemcount notic move insid ifblock befor call sleep consum interrupt produc resum produc creat item buffer increas itemcount becaus buffer wa empti prior addit produc tri wake consum unfortun consum wa nt sleep wakeup call lost time consum goe sleep will awaken produc will loop buffer full will sleep sinc process will sleep forev deadlock thi solut therefor unsatisfactori altern analysi program languag doe defin semant concurr access share variabl thi case itemcount synchron solut unsatisfactori reason explicitli demonstr race condit semaphor semaphor solv problem lost wakeup call solut semaphor fillcount emptycount solv problem fillcount increment emptycount decrement item ha buffer produc tri decrement emptycount valu produc sleep time item consum emptycount increment produc wake consum work analog semaphor fillcount semaphor emptycount buffer_s procedur produc true item produceitem emptycount putitemintobuff item fillcount procedur consum true fillcount item removeitemfrombuff emptycount consumeitem item solut abov work fine onli produc consum unfortun multipl produc consum thi solut seriou race condit result process read write slot time understand thi possibl imagin procedur putitemintobuff implement action determin avail slot write procedur execut concurr multipl produc follow scenario possibl produc decrement emptycount produc determin empti slot buffer second produc determin empti slot result produc produc write slot overcom thi problem onli produc execut putitemintobuff time word execut critic mutual exclus accomplish thi binari semaphor call mutex sinc valu binari semaphor onli onli process execut mutex mutex solut multipl produc consum semaphor mutex semaphor fillcount semaphor emptycount buffer_s procedur produc true item produceitem emptycount mutex putitemintobuff item mutex fillcount procedur consum true fillcount mutex item removeitemfrombuff mutex emptycount consumeitem item notic order differ semaphor increment decrement essenti chang order result deadlock monitor follow pseudo code solut producerconsum problem monitor sinc mutual exclus implicit monitor extra effort necessari protect critic word solut work ani number produc consum ani modif noteworthi monitor race condit semaphor monitor producerconsum int itemcount condit full condit empti procedur add item itemcount buffer_s wait full putitemintobuff item itemcount itemcount itemcount notifi empti procedur remov itemcount wait empti item removeitemfrombuff itemcount itemcount itemcount buffer_s notifi full return item procedur produc true item produceitem producerconsumeradd item procedur consum true item producerconsumerremov consumeitem item compos memori transact compos memori transact special form softwar transact memori propos tim harri simon marlow simon peyton jone mauric herlihi duilio protti implement librari libcmt follow link sourc code exampl producersconsum exampl libcmt refer modern oper system edit andrew tanenbaum isbn foundat multithread parallel distribut program gregori andrew isbn sleep barber problem dine philosoph problem cigarett smoker problem readerswrit problem